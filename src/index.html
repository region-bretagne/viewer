<!doctype html>
<html class="no-js" lang="fr" ng-app="kartApp">
  <head>
    <meta charset="utf-8">
    <title>Kartenn</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- build:css({.tmp,src}) styles/vendor.css -->
    <link rel="stylesheet" href="http://guidestyles.bretagne.bzh/thematiques/tourisme.css">
    <link rel="stylesheet" href="http://guidestyles.bretagne.bzh/styles/crbicon.css">

    <!-- bower:css -->
    <link rel="stylesheet" href="../bower_components/angular-material/angular-material.css" />
    <!-- endbower -->
    
    <link rel="stylesheet" href="http://openlayers.org/en/v3.8.2/css/ol.css" type="text/css">

    <!-- endbuild -->

    <!-- build:css({.tmp,src}) styles/app.css -->
    
    <link rel="stylesheet" href="app/app.css">
    <!-- endbuild -->

    <!-- build:js scripts/modernizr.js -->
    <script src="../bower_components/modernizr/modernizr.js"></script>
    <!-- endbuild -->
  </head>
  <body layout="column" ng-controller="AppCtrl">


      <nav class="navbar navbar-default">

        <div class="container-fluid">
          
          <a href="#" class="navbar-brand rb">Kartenn</a>
          <p class="navbar-text">Application cartographique de la RÃ©gion Bretagne</p>
          
          <button ng-click="toggleSidenav('left')" class="navbar-btn btn btn-primary navbar-right">
            <i class="icon-bars"></i>
            <span class="visually-hidden">Menu</span>
          </button>

        </div>

      </nav>

      <md-sidenav class="md-sidenav-right" md-component-id="left">             
         <md-content layout-padding="" layout="column">
             <form ng-submit="$event.preventDefault()" ng-controller="banController as ctrl" >     
                <md-autocomplete flex
                    md-selected-item="ctrl.selectedItem"
                    md-search-text="ctrl.searchText"
                    md-items="item in ctrl.querySearch(ctrl.searchText)"
                    md-selected-item-change="ctrl.selectedItemChange(item)"
                    md-item-text="item.properties.label"
                    md-min-length="3"
                    placeholder="Rechercher une adresse"            
                    md-menu-class="ban-template">          
                        <md-item-template>
                              <span class="item-title">
                                <md-icon md-svg-icon="assets/images/octicon-repo.svg"></md-icon>
                                <span> {{item.properties.label}} </span>
                              </span>
                              <span class="item-metadata">
                                <span class="item-metastat">
                                  <strong>{{item.properties.context}}</strong>
                                </span>
                                <span class="item-metastat">
                                  <i>{{item.properties.type}}</i>
                                </span>
                              </span>
                      </md-item-template>
                </md-autocomplete>
            </form>
    </md-content>
     <md-divider></md-divider>   
        <md-list-item class="md-3-line" ng-repeat="item in menu">
          <h3> {{ item.title }} </h3>
        </md-list-item>
        <md-divider></md-divider>
          <md-divider></md-divider>          
          <md-list ng-controller="mapCtrl">
              <md-subheader class="md-no-sticky">Backgroundlayers</md-subheader>
              <md-list-item md-ink-ripple ng-repeat="layer in backgroundlayers" ng-class="{'active':layer.getVisible()}" ng-click="changeLayer(layer)">           
                    <div class="inset">
                      <md-icon md-svg-icon="{{layer.screenshot}}"></md-icon>
                    </div>
                    <div class="inset" ng-class="{'active':layer.getVisible()}">{{layer.title}}
                    </div>                
                       
              </md-list-item>
          </md-list>
        
      </md-sidenav>

      <div id="map">        
      </div>

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>

    <!-- build:js scripts/vendor.js -->
    <!-- bower:js -->
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../bower_components/angular-animate/angular-animate.js"></script>
    <script src="../bower_components/angular-aria/angular-aria.js"></script>
    <script src="../bower_components/angular-material/angular-material.js"></script>
    <!-- endbower -->
    
    <script src="http://openlayers.org/en/v3.8.2/build/ol.js" type="text/javascript"></script>

    <!-- endbuild -->

    <!-- build:js({.tmp,src}) scripts/app.js -->
    <script src="app/app.js"></script>


    <!-- inject:partials -->
    <!-- angular templates will be automaticaly converted in js and inserted here -->
    <!-- endinject -->
    <!-- inject:js -->

    <script src="app/controllers/mainCtrl.js"></script>

    <script src="app/controllers/searchCtrl.js"></script>

    <script src="app/services/mapSrv.js"></script>

    <!-- endinject -->
    <!-- endbuild -->
  </body>
</html>
